(this["webpackJsonpnsw-corona-virus"]=this["webpackJsonpnsw-corona-virus"]||[]).push([[0],{300:function(e,t,a){e.exports=a(440)},312:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(24),c=a.n(o),i=a(50),s=a(21),l=a(492),u=a(472),d=a(496),m=Object(u.a)((function(){return Object(d.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),p=function(){return m(),null},b=[{start:0,end:9,key:9},{start:10,end:19,key:19},{start:20,end:29,key:29},{start:30,end:39,key:39},{start:40,end:49,key:49},{start:50,key:500}],g=[{start:0,end:250,key:250},{start:251,end:499,key:500},{start:500,end:999,key:1e3},{start:1e3,end:1999,key:2e3},{start:2e3,end:2999,key:3e3},{start:3e3,key:3e6}],f=[{start:1,end:2,key:2},{start:3,end:7,key:7},{start:8,end:20,key:20},{start:21,end:50,key:50},{start:51,key:51}],v=[{start:0,end:2,key:2},{start:3,end:7,key:7},{start:8,end:20,key:20},{start:21,end:50,key:50},{start:51,key:51}],x=function(e){return{testsKey:"".concat(e,"-tests"),activeKey:"".concat(e,"-active"),totalKey:"".concat(e,"-total"),rangeTestsKey:"".concat(e,"-testRange"),rangeActiveKey:"".concat(e,"-activeRange"),rangeRecoveredKey:"".concat(e,"-recoveredRange"),recoveredKey:"".concat(e,"-recovered"),deadKey:"".concat(e,"-dead")}},y=function(e){return e.data.reduce((function(e,t){var a=e.has(t.Date)?e.get(t.Date):new Map;return e.set(t.Date,a),a.set(t.POA_NAME16,t),e}),new Map)},E=function(e){return function(t){var a=e.find((function(e){return void 0===e.start&&t<=e.end||(void 0===e.end&&t>=e.start||e.start<=t&&t<=e.end)}));return a?a.key:0}},h=function(e){var t=e.postCodes,a=e.cases,r=e.population,n=e.tests;if(!t)return{};var o=E(b),c=E(g),i=E(f),s=E(v),l=y(a),u=y(n),d=r.reduce((function(e,t){var a=t.POA_NAME16.toString(),r=e.population,n=r.has(a)?r.get(a):t;return r.set(a,n),e.suburbs.push({postCode:a,name:t.Combined}),e}),{population:new Map,suburbs:[]}),m=d.population,p=d.suburbs,h=Array.from(l.keys()),C=h[h.length-1];return t.features.forEach((function(e){if(h.forEach((function(t){var a=l.get(t),r=u.get(t),n=x(t),d=n.testsKey,m=n.activeKey,p=n.totalKey,b=n.recoveredKey,g=n.deadKey,f=n.rangeTestsKey,v=n.rangeActiveKey,y=n.rangeRecoveredKey;e.properties[t]=0,e.properties[d]=0,e.properties[m]=0,e.properties[p]=0,e.properties[b]=0,e.properties[g]=0,e.properties[f]=0,e.properties[v]=0,e.properties[y]=0;var E=a.has(e.properties.POA_NAME16);if(E){var h=a.get(e.properties.POA_NAME16),C=parseInt(h.Cases,10),N=parseInt(h.Recovered,10),O=parseInt(h.Deaths,10);h.Active=0===N?0:C-(N+O),e.properties[t]=o(C),e.properties[v]=i(h.Active),e.properties[y]=s(N),e.properties[p]=C,e.properties[m]=h.Active,e.properties[b]=N,e.properties[g]=O}if(r&&r.has(e.properties.POA_NAME16)){var k=r.get(e.properties.POA_NAME16),j=parseInt(k.Number,10),w=c(j);if(E){var A=a.get(e.properties.POA_NAME16);A.Tests=k.Number,A.RecentTests=k.Recent}e.properties[d]=j,e.properties[f]=w}})),m.has(e.properties.POA_NAME16)){var t=m.get(e.properties.POA_NAME16);e.properties.population=t.Tot_p_p,e.properties.suburbName=t.Combined}})),{postCodesGeometry:t,suburbs:p,cases:l,populationByCode:m,population:r,tests:u,selectedDate:C,dates:h}},C=a(41),N=a(16),O=a(150),k=a.n(O),j=a(272),w=Object(r.createContext)({}),A=w.Consumer,R=w.Provider,P=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))},S=function(){var e=Object(j.a)(k.a.mark((function e(){var t,a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("https://raw.githubusercontent.com/maxgherman/nsw-corona-virus/gh-pages/post-codes.json");case 2:return t=e.sent,e.next=5,P("https://raw.githubusercontent.com/maxgherman/nsw-corona-virus/gh-pages/cases-total.json");case 5:return a=e.sent,e.next=8,P("https://raw.githubusercontent.com/maxgherman/nsw-corona-virus/gh-pages/population.json");case 8:return r=e.sent,e.next=11,P("https://raw.githubusercontent.com/maxgherman/nsw-corona-virus/gh-pages/tests-total.json");case 11:return n=e.sent,e.abrupt("return",{postCodes:t,cases:a,population:r,tests:n});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=e.children,a=Object(r.useState)({loaded:!1}),o=Object(N.a)(a,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){S().then((function(e){var t=e.postCodes,a=e.cases,r=e.population,n=e.tests,o=h({postCodes:t,cases:a,population:r,tests:n}),c=Object(C.a)(Object(C.a)({},o),{},{loaded:!0});i(c)}))}),[]),n.a.createElement(R,{value:c},t)},L=a(291),B=a(7),M=Object(L.a)({palette:{background:{dark:"#F4F6F8",default:B.a.common.white,paper:B.a.common.white},primary:{main:B.a.indigo[500]},secondary:{main:B.a.indigo[500]},text:{primary:B.a.blueGrey[900],secondary:B.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),D=a(493),F=a(442),z=a(477),I=a(274),W=a.n(I),_=a(273),K=a.n(_),V=a(275),G=a.n(V),Z=a(276),H=a.n(Z),J=a(277),U=a.n(J),$=a(30),q=a(4),Q=a(474),Y=a(476),X=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),ee=function(e){var t=e.className,a=e.href,r=e.icon,o=e.title,c=Object($.a)(e,["className","href","icon","title"]),s=X();return n.a.createElement(Q.a,Object.assign({className:Object(q.a)(s.item,t),disableGutters:!0},c),n.a.createElement(Y.a,{activeClassName:s.active,className:s.button,component:i.b,to:a},r&&n.a.createElement(r,{className:s.icon,size:"20"}),n.a.createElement("span",{className:s.title},o)))},te=[{href:"/nsw-corona-virus",icon:K.a,title:"Dashboard"},{href:"".concat("/nsw-corona-virus","/totals"),icon:W.a,title:"Cumulative Totals"},{href:"".concat("/nsw-corona-virus","/distribution"),icon:G.a,title:"Distribution"},{href:"".concat("/nsw-corona-virus","/correlation"),icon:H.a,title:"Correlation"},{href:"".concat("/nsw-corona-virus","/regression"),icon:U.a,title:"Regression"}],ae=Object(u.a)((function(){return{mobileDrawer:{width:256}}})),re=function(e){var t=e.onMobileClose,a=e.openMobile,o=ae(),c=Object(s.f)();Object(r.useEffect)((function(){a&&t&&t()}),[c.pathname]);var i=n.a.createElement(D.a,{height:"100%",display:"flex",flexDirection:"column"},n.a.createElement(D.a,{p:2},n.a.createElement(F.a,null,te.map((function(e){return n.a.createElement(ee,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))),n.a.createElement(D.a,{flexGrow:1}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{anchor:"left",classes:{paper:o.mobileDrawer},onClose:t,open:a,variant:"temporary"},i))};re.defaultProps={onMobileClose:function(){},openMobile:!1};var ne=re,oe=a(479),ce=a(480),ie=a(481),se=a(278),le=a.n(se),ue=Object(u.a)((function(){return{root:{}}})),de=function(e){var t=e.className,a=e.onMobileNavOpen,r=Object($.a)(e,["className","onMobileNavOpen"]),o=ue();return n.a.createElement(oe.a,Object.assign({className:Object(q.a)(o.root,t),elevation:0},r),n.a.createElement(ce.a,null,n.a.createElement(ie.a,{color:"inherit",onClick:a},n.a.createElement(le.a,null)),n.a.createElement(D.a,{flexGrow:1})))},me=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),pe=function(){var e=me(),t=Object(r.useState)(!1),a=Object(N.a)(t,2),o=a[0],c=a[1];return n.a.createElement("div",{className:e.root},n.a.createElement(de,{onMobileNavOpen:function(){return c(!0)}}),n.a.createElement(ne,{onMobileClose:function(){return c(!1)},openMobile:o}),n.a.createElement("div",{className:e.wrapper},n.a.createElement("div",{className:e.contentContainer},n.a.createElement("div",{className:e.content},n.a.createElement(s.b,null)))))},be=a(488),ge=a(484),fe=a(279),ve=Object(r.forwardRef)((function(e,t){var a=e.children,r=e.title,o=void 0===r?"":r,c=Object($.a)(e,["children","title"]);return n.a.createElement("div",Object.assign({ref:t},c),n.a.createElement(fe.a,null,n.a.createElement("title",null,o)),a)})),xe=a(23),ye=a(482),Ee=a(483),he=a(447),Ce=a(497),Ne=a(54),Oe=a.n(Ne),ke=a(116),je=a.n(ke),we=Object(u.a)((function(e){return{root:{height:"100%"},cases:{backgroundColor:B.a.red[300],height:56,width:56},differenceIcon:{color:B.a.green[900]},differenceValue:{color:B.a.green[900],marginRight:e.spacing(1)}}})),Ae=function(e){var t=e.className,a=Object($.a)(e,["className"]),o=Object(r.useContext)(w),c=o.cases,i=o.dates,s=we(),l=Object(r.useMemo)((function(){var e=Object(xe.a)(c.get(i[i.length-1]).values()).reduce((function(e,t){return e+t.Cases}),0),t=Object(xe.a)(c.get(i[i.length-2]).values()).reduce((function(e,t){return e+t.Cases}),0);return{totalCases:e,progressCases:(e>=t?1:-1)*Math.abs(e-t)*100/t}}),[c,i]),u=l.totalCases,d=l.progressCases;return n.a.createElement(ye.a,Object.assign({className:Object(q.a)(s.root,t)},a),n.a.createElement(Ee.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL CASES"),n.a.createElement(he.a,{color:"textPrimary",variant:"h3"},(new Intl.NumberFormat).format(u))),n.a.createElement(ge.a,{item:!0},n.a.createElement(Ce.a,{className:s.cases},n.a.createElement(je.a,null)))),n.a.createElement(D.a,{mt:2,display:"flex",alignItems:"center"},n.a.createElement(Oe.a,{className:s.differenceIcon}),n.a.createElement(he.a,{className:s.differenceValue,variant:"body2"},d.toFixed(5),"%"),n.a.createElement(he.a,{color:"textSecondary",variant:"caption"},"Since last day"))))},Re=a(282),Pe=a.n(Re),Se=Object(u.a)((function(e){return{root:{height:"100%"},cases:{backgroundColor:B.a.red[800],height:56,width:56},progressUpIcon:{color:B.a.red[900]},progressDownIcon:{color:B.a.green[900]},differenceValue:{color:B.a.green[900],marginRight:e.spacing(1)}}})),Te=function(e){var t=e.className,a=Object($.a)(e,["className"]),o=Object(r.useContext)(w),c=o.cases,i=o.dates,s=Se(),l=Object(r.useMemo)((function(){var e=Object(xe.a)(c.get(i[i.length-1]).values()).reduce((function(e,t){return e+(t.Active?t.Active:0)}),0),t=Object(xe.a)(c.get(i[i.length-2]).values()).reduce((function(e,t){return e+(t.Active?t.Active:0)}),0);return{totalActive:e,progressActive:(e>=t?1:-1)*Math.abs(e-t)*100/t}}),[c,i]),u=l.totalActive,d=l.progressActive;return n.a.createElement(ye.a,Object.assign({className:Object(q.a)(s.root,t)},a),n.a.createElement(Ee.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL ACTIVE"),n.a.createElement(he.a,{color:"textPrimary",variant:"h3"},(new Intl.NumberFormat).format(u))),n.a.createElement(ge.a,{item:!0},n.a.createElement(Ce.a,{className:s.cases},n.a.createElement(je.a,null)))),n.a.createElement(D.a,{mt:2,display:"flex",alignItems:"center"},d<0?n.a.createElement(Pe.a,{className:s.progressDownIcon}):n.a.createElement(Oe.a,{className:s.progressUpIcon}),n.a.createElement(he.a,{className:s.differenceValue,variant:"body2"},d.toFixed(5),"%"),n.a.createElement(he.a,{color:"textSecondary",variant:"caption"},"Since last day"))))},Le=a(487),Be=(a(310),a(311),a(312),a(34)),Me="pk.eyJ1IjoibWF4LW1hcGJveCIsImEiOiJjazh2M2Nxa2wwN2lqM21sZHR6OGltODZlIn0.WZQrkr5xUuF2pYodrApo-g",De="PostcodeCases",Fe="PostcodeTests",ze="PostcodeActive",Ie="PostcodeRecovered",We=a(292),_e=function(e){return e.context&&e.context.length<=4?e.context.map((function(e){return"region"===e.id.split(".").shift()&&"New South Wales"===e.text})).reduce((function(e,t){return e||t})):e},Ke=function(e){var t=e.mapRef,a=e.containerRef,r=e.token,o=e.onViewportChange;return n.a.createElement(We.a,{mapRef:t,containerRef:a,countries:"au",bbox:[139.965,-38.03,155.258,-27.839],limit:200,onViewportChange:o,mapboxApiAccessToken:r,filter:_e})},Ve=function(e){var t=e.latitude,a=e.longitude,r=e.suburb,o=e.total,c=e.active,i=e.recovered,s=e.tested,l=e.dead,u=e.population;return n.a.createElement(Be.c,{latitude:t,longitude:a,closeButton:!1,closeOnClick:!1},n.a.createElement("div",null,n.a.createElement("strong",null,r),n.a.createElement("br",null),n.a.createElement("span",null,"Total: ",o),n.a.createElement("br",null),n.a.createElement("span",null,"Active: ",c),n.a.createElement("br",null),n.a.createElement("span",null,"Recovered: ",i),n.a.createElement("br",null),n.a.createElement("span",null,"Tested: ",s),n.a.createElement("br",null),n.a.createElement("span",null,"Dead: ",l),n.a.createElement("br",null),n.a.createElement("span",null,"Population: ",u)))},Ge=Object.freeze({cases:De,tests:Fe,active:ze,recovered:Ie}),Ze=[{key:Ge.cases,name:"Total"},{key:Ge.active,name:"Active"},{key:Ge.recovered,name:"Recovered"},{key:Ge.tests,name:"Tests"}],He=function e(t,a){t.isStyleLoaded()?function(e,t,a){t===a.cases?(e.setLayoutProperty(Fe,"visibility","none"),e.setLayoutProperty(De,"visibility","visible"),e.setLayoutProperty(ze,"visibility","none"),e.setLayoutProperty(Ie,"visibility","none")):t===a.tests?(e.setLayoutProperty(Fe,"visibility","visible"),e.setLayoutProperty(De,"visibility","none"),e.setLayoutProperty(ze,"visibility","none"),e.setLayoutProperty(Ie,"visibility","none")):t===a.active?(e.setLayoutProperty(Fe,"visibility","none"),e.setLayoutProperty(De,"visibility","none"),e.setLayoutProperty(ze,"visibility","visible"),e.setLayoutProperty(Ie,"visibility","none")):t===a.recovered&&(e.setLayoutProperty(Fe,"visibility","none"),e.setLayoutProperty(De,"visibility","none"),e.setLayoutProperty(ze,"visibility","none"),e.setLayoutProperty(Ie,"visibility","visible"))}(t,a,Ge):setTimeout((function(){e(t,a)}),200)},Je=function(e){var t=e.date,a=e.mapStyle,o=Object(r.useContext)(w).postCodesGeometry,c=Object(r.useState)({zoom:6,latitude:-33.5688,longitude:148.5093}),i=Object(N.a)(c,2),s=i[0],l=i[1],u=Object(r.useRef)(null),d=Object(r.useRef)(null),m=function(e){var t=Object(r.useState)({show:!1,latitude:void 0,longitude:void 0,suburb:void 0,total:void 0,tested:void 0,active:void 0,recovered:void 0,dead:void 0,population:void 0}),a=Object(N.a)(t,2),n=a[0],o=a[1];return[n,function(t,a){var r=Object(N.a)(a,2),c=r[0],i=r[1];if(!t||t.length<=0||!t[0].properties.POA_NAME16)o(Object(C.a)(Object(C.a)({},n),{},{show:!1}));else{var s=t[0].properties.suburbName.split(","),l=s.slice(0,Math.min(3,s.length)).join(", "),u=t[0].properties.population,d=t[0].properties,m=e(),p=d[m.totalKey],b=d[m.testsKey],g=d[m.activeKey],f=d[m.recoveredKey],v=d[m.deadKey];o(Object(C.a)(Object(C.a)({},n),{},{show:!0,longitude:c,latitude:i,suburb:l,total:p,tested:b,active:g,recovered:f,dead:v,population:u}))}}]}((function(){return x(t)})),p=Object(N.a)(m,2),v=p[0],y=p[1];Object(r.useEffect)((function(){var e,t=null===(e=u.current)||void 0===e?void 0:e.getMap();t&&He(t,a)}),[a]);return o?n.a.createElement("div",{className:"map"},n.a.createElement("div",{ref:d,className:"geocoder"}),n.a.createElement(Be.e,Object.assign({ref:u},s,{width:"100%",height:"60vh",mapStyle:"mapbox://styles/mapbox/streets-v10",onViewportChange:function(e){return l(e)},mapboxApiAccessToken:Me,onClick:function(e){y(e.features||null,e.lngLat)}}),n.a.createElement(Ke,{mapRef:u,containerRef:d,onViewportChange:function(e){return l(Object(C.a)(Object(C.a)({},e),{transitionDuration:500}))},token:Me}),function(e,t){var a=x(t),r=a.rangeTestsKey,o=a.rangeActiveKey,c=a.rangeRecoveredKey;return n.a.createElement(Be.d,{type:"geojson",data:e},n.a.createElement(Be.b,{id:"Postcode",source:"Postcode",type:"line",paint:{"line-color":"#bdb8b7","line-width":1}}),n.a.createElement(Be.b,{id:Fe,source:"Postcode",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get",r]].concat(Object(xe.a)([0,"transparent",g[0].key,"#a6c6ed",g[1].key,"#8ab3e6",g[2].key,"#6189ba",g[3].key,"#4478b8",g[4].key,"#326cb3",g[5].key,"#1a5cad"])),"fill-opacity":.8}}),n.a.createElement(Be.b,{id:ze,source:"Postcode",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get",o]].concat(Object(xe.a)([0,"transparent",f[0].key,"#ffb3b3",f[1].key,"#ff8080",f[2].key,"#ff4d4d",f[3].key,"#e60000",f[4].key,"#b30000"])),"fill-opacity":.8}}),n.a.createElement(Be.b,{id:Ie,source:"Postcode",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get",c]].concat(Object(xe.a)([0,"transparent",f[0].key,"#a8edbb",f[1].key,"#73de91",f[2].key,"#3aba5e",f[3].key,"#178f39",f[4].key,"#0a6624"])),"fill-opacity":.8}}),n.a.createElement(Be.b,{id:De,source:"Postcode",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get",t]].concat(Object(xe.a)([0,"transparent",b[0].key,"#ffb3b3",b[1].key,"#ff8080",b[2].key,"#ff4d4d",b[3].key,"#e60000",b[4].key,"#b30000",b[5].key,"#660000"])),"fill-opacity":.8}}))}(o,t),v.show&&n.a.createElement(Ve,v))):null},Ue=a(498),$e=function(e){var t=e.dateChanged,a=Object(r.useContext)(w).dates,o=Object(r.useState)(0),c=Object(N.a)(o,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){null!=a&&(s(a.length-1),t&&t(a[a.length-1]))}),[a,t]),a?n.a.createElement(Ue.a,{value:i,onChange:function(e,r){s(r),t&&t(a[r])},"aria-labelledby":"discrete-slider",step:1,min:0,max:a.length-1}):null},qe=a(448),Qe=a(485),Ye=a(486),Xe=a(494),et=function(e){var t=e.data,a=e.selectionChanged,o=Object(r.useState)(t[0].key),c=Object(N.a)(o,2),i=c[0],s=c[1];return n.a.createElement(qe.a,{component:"fieldset"},n.a.createElement(Qe.a,{row:!0,"aria-label":"selector",name:"position",value:i,onChange:function(e){s(e.target.value),a&&a(e.target.value)}},t.map((function(e){return n.a.createElement(Ye.a,{key:e.key,value:e.key,control:n.a.createElement(Xe.a,{color:"primary"}),label:e.name,labelPlacement:"end"})}))))},tt=Object(u.a)((function(){return{root:{},sliderDate:{minWidth:"100px",paddingLeft:"20px"},slider:{paddingRight:"20px",width:"100%"},selector:{paddingLeft:"30px"}}})),at=Object(u.a)((function(){return{root:{padding:0}}})),rt=function(e){var t=e.className,a=Object($.a)(e,["className"]),o=tt(),c=at(),i=Object(r.useState)(""),s=Object(N.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)(Ze[0].key),m=Object(N.a)(d,2),p=m[0],b=m[1];return n.a.createElement(ye.a,Object.assign({className:Object(q.a)(o.root,t)},a),n.a.createElement(D.a,{display:"flex",p:1},n.a.createElement("div",{className:o.sliderDate},n.a.createElement(he.a,null,l)),n.a.createElement("div",{className:o.slider},n.a.createElement($e,{dateChanged:u}))),n.a.createElement(Le.a,null),n.a.createElement(Ee.a,{classes:{root:c.root}},n.a.createElement(D.a,{position:"relative"},n.a.createElement(Je,{date:l,mapStyle:p}))),n.a.createElement(Le.a,null),n.a.createElement(D.a,{display:"flex",justifyContent:"flex-start",className:o.selector},n.a.createElement(et,{data:Ze,selectionChanged:b})))},nt=a(286),ot=a.n(nt),ct=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:B.a.green[600],height:56,width:56},differenceIcon:{color:B.a.green[900]},differenceValue:{color:B.a.green[900],marginRight:e.spacing(1)}}})),it=function(e){var t=e.className,a=Object($.a)(e,["className"]),o=ct(),c=Object(r.useContext)(w),i=c.cases,s=c.dates,l=Object(r.useMemo)((function(){var e=Object(xe.a)(i.get(s[s.length-1]).values()).reduce((function(e,t){return e+t.Recovered}),0),t=Object(xe.a)(i.get(s[s.length-2]).values()).reduce((function(e,t){return e+t.Recovered}),0);return{totalRecovered:e,progressRecovered:(e>=t?1:-1)*Math.abs(e-t)*100/t}}),[i,s]),u=l.totalRecovered,d=l.progressRecovered;return n.a.createElement(ye.a,Object.assign({className:Object(q.a)(o.root,t)},a),n.a.createElement(Ee.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL RECOVERED"),n.a.createElement(he.a,{color:"textPrimary",variant:"h3"},(new Intl.NumberFormat).format(u))),n.a.createElement(ge.a,{item:!0},n.a.createElement(Ce.a,{className:o.avatar},n.a.createElement(ot.a,null)))),n.a.createElement(D.a,{mt:2,display:"flex",alignItems:"center"},n.a.createElement(Oe.a,{className:o.differenceIcon}),n.a.createElement(he.a,{className:o.differenceValue,variant:"body2"},d.toFixed(5),"%"),n.a.createElement(he.a,{color:"textSecondary",variant:"caption"},"Since last day"))))},st=a(287),lt=a.n(st),ut=Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:B.a.blue[900],height:56,width:56}}})),dt=function(e){var t=e.className,a=Object($.a)(e,["className"]),o=ut(),c=Object(r.useContext)(w),i=c.tests,s=c.dates,l=Object(r.useMemo)((function(){var e=Object(xe.a)(i.get(s[s.length-1]).values()).reduce((function(e,t){return e+t.Number}),0),t=Object(xe.a)(i.get(s[s.length-2]).values()).reduce((function(e,t){return e+t.Number}),0);return{totalTests:e,progressTests:(e>=t?1:-1)*Math.abs(e-t)*100/t}}),[i,s]),u=l.totalTests,d=l.progressTests;return n.a.createElement(ye.a,Object.assign({className:Object(q.a)(o.root,t)},a),n.a.createElement(Ee.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL TESTS"),n.a.createElement(he.a,{color:"textPrimary",variant:"h3"},(new Intl.NumberFormat).format(u))),n.a.createElement(ge.a,{item:!0},n.a.createElement(Ce.a,{className:o.avatar},n.a.createElement(lt.a,null)))),n.a.createElement(D.a,{mt:2,display:"flex",alignItems:"center"},n.a.createElement(Oe.a,{className:o.differenceIcon}),n.a.createElement(he.a,{className:o.differenceValue,variant:"body2"},d.toFixed(5),"%"),"\xa0\xa0",n.a.createElement(he.a,{color:"textSecondary",variant:"caption"},"Since last day"))))},mt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),pt=function(){var e=mt();return n.a.createElement(ve,{className:e.root,title:"Dashboard"},n.a.createElement(be.a,{maxWidth:!1},n.a.createElement(ge.a,{container:!0,spacing:3},n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(Ae,null)),n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(Te,null)),n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(it,null)),n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(dt,null)),n.a.createElement(ge.a,{item:!0,lg:12,md:12,xl:12,xs:12},n.a.createElement(rt,null)))))},bt=a(491),gt=a(495),ft=Object(u.a)((function(){return{root:{width:"100%"},option:{'& [data-length="long"]':{display:"none"},'&:hover [data-length="long"]':{display:"block"}},optionHeader:{fontWeight:"bold"}}})),vt=function(e){var t=e.onChange,a=ft(),o=Object(r.useContext)(w).suburbs;return n.a.createElement(gt.a,{multiple:!0,disableCloseOnSelect:!0,className:a.root,options:o,getOptionLabel:function(e){return"".concat(e.postCode," ").concat(e.name)},renderInput:function(e){return n.a.createElement(bt.a,Object.assign({},e,{label:"Post code / Suburb",variant:"outlined"}))},renderOption:function(e){return function(e,t){return n.a.createElement("div",{className:t.option},n.a.createElement("span",{className:t.optionHeader},e.postCode),n.a.createElement("br",null),n.a.createElement("span",null,e.name.substring(0,40)),n.a.createElement("span",{"data-length":"long"},e.name.substring(40)))}(e,a)},onChange:function(e,a){return t(a)}})},xt=a(29),yt=a(32),Et=function(e){var t=e.data,a=Object(yt.a)(),r={animation:!1,cornerRadius:0,layout:{padding:{top:0,left:0,right:0,bottom:50}},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:a.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:a.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:a.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:a.palette.divider}}]},tooltips:{backgroundColor:a.palette.background.default,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return n.a.createElement(xt.Bar,{height:300,data:t,options:r})},ht=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ct=function(){var e=ht(),t=Object(r.useContext)(w),a=t.cases,o=t.dates,c=Object(r.useState)([]),i=Object(N.a)(c,2),s=i[0],l=i[1],u=Object(r.useMemo)((function(){return o.reduce((function(e,t){var r=e.prev,n=e.daily,o=e.cumulative,c=e.prevDate,i=function(e,t){return e.has(t)?Object(xe.a)(e.get(t).values()).reduce((function(e,t){return e+t.Cases}),0):0}(a,t);if(o.push(i),r){var l=i-r;n.push(Math.max(0,l))}else n.push(i);return e.prev=i,a.has(t)?(function(e,t,a,r,n){r.forEach((function(r){var o=n.has(r.postCode)?n.get(r.postCode):[],c=e.has(t)&&e.get(t).has(r.postCode)?e.get(t).get(r.postCode).Cases:0,i=a&&e.has(t)&&e.get(a).has(r.postCode)?c-e.get(a).get(r.postCode).Cases:c;o.push({value:c,diff:Math.max(0,i)}),n.set(r.postCode,o)}))}(a,t,c,s,e.suburbs),e.prevDate=t,e):e}),{prev:null,daily:[],cumulative:[],prevDate:null,suburbs:new Map})}),[a,o,s]),d={datasets:[{backgroundColor:B.a.red[500],label:"Daily new cases",data:u.daily,order:1},{backgroundColor:B.a.indigo[100],label:"Cumulative totals",data:u.cumulative,type:"line",order:2}],labels:o};return n.a.createElement(ve,{className:e.root,title:"Totals"},n.a.createElement(be.a,{maxWidth:"lg"},n.a.createElement(ge.a,{container:!0,spacing:3},n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h4"},"Daily and cumulative totals"))),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(Et,{data:d})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h5"},"Suburb split"))),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(vt,{onChange:l})),Object(xe.a)(u.suburbs.entries()).map((function(e){var t=Object(N.a)(e,2),a=t[0],r=t[1];return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},a))),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(Et,{data:{datasets:[{backgroundColor:B.a.red[500],label:"Daily new cases",data:r.map((function(e){return e.diff})),order:1},{backgroundColor:B.a.indigo[100],label:"Cumulative totals",data:r.map((function(e){return e.value})),type:"line",order:2}],labels:o}})))})))))},Nt=a(43),Ot=a.n(Nt),kt=function(){var e=Object(yt.a)(),t=Object(r.useContext)(w).population,a=Object(r.useMemo)((function(){var e=Ot()(t.filter((function(e){return!!e.POA_NAME16&&!isNaN(Number(e.Tot_p_p))})).map((function(e){return e.Tot_p_p})));return{datasets:[{backgroundColor:B.a.indigo[500],data:e.map((function(e){var t=Object(N.a)(e,2);t[0];return t[1]})),label:"Population",barThickness:"flex",barPercentage:1.3}],labels:e.map((function(e){return""}))}}),[t]),o={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:e.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:e.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:e.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:e.palette.divider}}]},tooltips:{backgroundColor:e.palette.background.default,bodyFontColor:e.palette.text.secondary,borderColor:e.palette.divider,borderWidth:1,enabled:!0,footerFontColor:e.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:e.palette.text.primary}};return n.a.createElement(xt.Bar,{height:200,data:a,options:o})},jt=function(e){var t=e.date,a=Object(yt.a)(),o=Object(r.useContext)(w).cases,c=Object(r.useMemo)((function(){var e=Ot()(Object(xe.a)(o.get(t).values()).filter((function(e){return!isNaN(Number(e.Cases))})).map((function(e){return e.Cases})));return{datasets:[{backgroundColor:B.a.red[500],data:e.map((function(e){var t=Object(N.a)(e,2);t[0];return t[1]})),label:"Total Cases",barThickness:"flex",barPercentage:1.3}],labels:e.map((function(e){return""}))}}),[o,t]),i={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:a.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:a.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:a.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:a.palette.divider}}]},tooltips:{backgroundColor:a.palette.background.default,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return n.a.createElement(xt.Bar,{height:200,data:c,options:i})},wt=function(e){var t=e.date,a=Object(yt.a)(),o=Object(r.useContext)(w).cases,c=Object(r.useMemo)((function(){var e=Ot()(Object(xe.a)(o.get(t).values()).filter((function(e){return!isNaN(Number(e.Active))})).map((function(e){return e.Cases})));return{datasets:[{backgroundColor:B.a.red[900],data:e.map((function(e){var t=Object(N.a)(e,2);t[0];return t[1]})),label:"Active Cases",barThickness:"flex",barPercentage:1.3}],labels:e.map((function(e){return""}))}}),[o,t]),i={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:a.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:a.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:a.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:a.palette.divider}}]},tooltips:{backgroundColor:a.palette.background.default,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return n.a.createElement(xt.Bar,{height:200,data:c,options:i})},At=function(e){var t=e.date,a=Object(yt.a)(),o=Object(r.useContext)(w).cases,c=Object(r.useMemo)((function(){var e=Ot()(Object(xe.a)(o.get(t).values()).filter((function(e){return!isNaN(Number(e.Recovered))})).map((function(e){return e.Cases})));return{datasets:[{backgroundColor:B.a.green[700],data:e.map((function(e){var t=Object(N.a)(e,2);t[0];return t[1]})),label:"Recovered",barThickness:"flex",barPercentage:1.3}],labels:e.map((function(e){return""}))}}),[o,t]),i={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:a.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:a.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:a.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:a.palette.divider}}]},tooltips:{backgroundColor:a.palette.background.default,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return n.a.createElement(xt.Bar,{height:200,data:c,options:i})},Rt=function(e){var t=e.date,a=Object(yt.a)(),o=Object(r.useContext)(w).tests,c=Object(r.useMemo)((function(){if(!o.get(t))return null;var e=Ot()(Object(xe.a)(o.get(t).values()).filter((function(e){return!isNaN(Number(e.Number))})).map((function(e){return e.Number})));return{datasets:[{backgroundColor:B.a.indigo[700],data:e.map((function(e){var t=Object(N.a)(e,2);t[0];return t[1]})),label:"Tests",barThickness:"flex",barPercentage:1.3}],labels:e.map((function(e){return""}))}}),[o,t]),i={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:a.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:a.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:a.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:a.palette.divider}}]},tooltips:{backgroundColor:a.palette.background.default,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return c?n.a.createElement(xt.Bar,{height:200,data:c,options:i}):null},Pt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),St=function(){var e=Pt(),t=Object(r.useState)(""),a=Object(N.a)(t,2),o=a[0],c=a[1];return n.a.createElement(ve,{className:e.root,title:"Distribution"},n.a.createElement(be.a,{maxWidth:"lg"},n.a.createElement(ge.a,{container:!0,spacing:3},n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h4"},"Suburb distribution / histograms")),n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h5"},o)),n.a.createElement($e,{dateChanged:c})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},o&&n.a.createElement(jt,{date:o})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},o&&n.a.createElement(wt,{date:o})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},o&&n.a.createElement(At,{date:o})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},o&&n.a.createElement(Rt,{date:o})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(kt,null)))))},Tt=(a(439),function(e){var t=e.title;return n.a.createElement(he.a,{color:"textSecondary",variant:"h6"},t)}),Lt=function(e){var t=e.children;return n.a.createElement("div",{className:"corelation"},n.a.createElement("div",{className:"population h-header"},n.a.createElement(Tt,{title:"Population"})),n.a.createElement("div",{className:"cases h-header"},n.a.createElement(Tt,{title:"Total Cases"})),n.a.createElement("div",{className:"active h-header"},n.a.createElement(Tt,{title:"Active"})),n.a.createElement("div",{className:"recovered h-header"},n.a.createElement(Tt,{title:"Recovered"})),n.a.createElement("div",{className:"tests h-header"},n.a.createElement(Tt,{title:"Tests"})),n.a.createElement("div",{className:"population v-header"},n.a.createElement(Tt,{title:"Population"})),n.a.createElement("div",{className:"cases v-header"},n.a.createElement(Tt,{title:"Total Cases"})),n.a.createElement("div",{className:"active v-header"},n.a.createElement(Tt,{title:"Active"})),n.a.createElement("div",{className:"recovered v-header"},n.a.createElement(Tt,{title:"Recovered"})),n.a.createElement("div",{className:"tests v-header"},n.a.createElement(Tt,{title:"Tests"})),t)},Bt=function(e){var t=e.data,a=e.selector,r=e.backgroundColor,o={datasets:[{data:a(t),backgroundColor:r}]};return n.a.createElement(xt.Scatter,{data:o,options:{animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{type:"linear",position:"bottom"}]}}})},Mt=function(e){var t=e.data,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=Object(r.useState)(window.innerWidth-e),a=Object(N.a)(t,2),n=a[0],o=a[1],c=Object(r.useCallback)((function(){return o(window.innerWidth-e)}),[e]);return Object(r.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[e,c]),[n]}(),o=Object(N.a)(a,1)[0]/5;return n.a.createElement(Lt,null,n.a.createElement("div",{className:"grid-item population-cases",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.population.cases},backgroundColor:B.a.indigo[500]})),n.a.createElement("div",{className:"grid-item population-active",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.population.active},backgroundColor:B.a.indigo[500]})),n.a.createElement("div",{className:"grid-item population-recovered",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.population.recovered},backgroundColor:B.a.indigo[500]})),n.a.createElement("div",{className:"grid-item population-tests",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.population.tests},backgroundColor:B.a.indigo[500]})),n.a.createElement("div",{className:"grid-item cases-population",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.cases.population},backgroundColor:B.a.red[500]})),n.a.createElement("div",{className:"grid-item cases-active",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.cases.active},backgroundColor:B.a.red[500]})),n.a.createElement("div",{className:"grid-item cases-recovered",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.cases.recovered},backgroundColor:B.a.red[500]})),n.a.createElement("div",{className:"grid-item cases-tests",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.cases.tests},backgroundColor:B.a.red[500]})),n.a.createElement("div",{className:"grid-item active-population",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.active.population},backgroundColor:B.a.red[900]})),n.a.createElement("div",{className:"grid-item active-cases",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.active.cases},backgroundColor:B.a.red[900]})),n.a.createElement("div",{className:"grid-item active-recovered",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.active.recovered},backgroundColor:B.a.red[900]})),n.a.createElement("div",{className:"grid-item active-tests",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.active.tests},backgroundColor:B.a.red[900]})),n.a.createElement("div",{className:"grid-item recovered-population",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.recovered.population},backgroundColor:B.a.green[700]})),n.a.createElement("div",{className:"grid-item recovered-cases",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.recovered.cases},backgroundColor:B.a.green[700]})),n.a.createElement("div",{className:"grid-item recovered-active",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.recovered.active},backgroundColor:B.a.green[700]})),n.a.createElement("div",{className:"grid-item recovered-tests",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.recovered.tests},backgroundColor:B.a.green[700]})),n.a.createElement("div",{className:"grid-item tests-population",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.tests.population},backgroundColor:B.a.indigo[700]})),n.a.createElement("div",{className:"grid-item tests-cases",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.tests.cases},backgroundColor:B.a.indigo[700]})),n.a.createElement("div",{className:"grid-item tests-active",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.tests.active},backgroundColor:B.a.indigo[700]})),n.a.createElement("div",{className:"grid-item tests-recovered",style:{width:o}},n.a.createElement(Bt,{data:t,selector:function(e){return e.tests.recovered},backgroundColor:B.a.indigo[700]})))},Dt=a(85),Ft=function(e){var t=e.data,a=(0,e.selector)(t),o=Object(r.useMemo)((function(){return Object(Dt.sampleCorrelation)(a.map((function(e){return e.x})),a.map((function(e){return e.y}))).toFixed(5)}),[a]);return isNaN(o)?null:n.a.createElement("span",{className:"number-box"},o)},zt=function(e){var t=e.data;return n.a.createElement(Lt,null,n.a.createElement("div",{className:"population-cases"},n.a.createElement(Ft,{data:t,selector:function(e){return e.population.cases}})),n.a.createElement("div",{className:"population-active"},n.a.createElement(Ft,{data:t,selector:function(e){return e.population.active}})),n.a.createElement("div",{className:"population-recovered"},n.a.createElement(Ft,{data:t,selector:function(e){return e.population.recovered}})),n.a.createElement("div",{className:"population-tests"},n.a.createElement(Ft,{data:t,selector:function(e){return e.population.tests}})),n.a.createElement("div",{className:"cases-population"},n.a.createElement(Ft,{data:t,selector:function(e){return e.cases.population}})),n.a.createElement("div",{className:"cases-active"},n.a.createElement(Ft,{data:t,selector:function(e){return e.cases.active}})),n.a.createElement("div",{className:"cases-recovered"},n.a.createElement(Ft,{data:t,selector:function(e){return e.cases.recovered}})),n.a.createElement("div",{className:"cases-tests"},n.a.createElement(Ft,{data:t,selector:function(e){return e.cases.tests}})),n.a.createElement("div",{className:"active-population"},n.a.createElement(Ft,{data:t,selector:function(e){return e.active.population}})),n.a.createElement("div",{className:"active-cases"},n.a.createElement(Ft,{data:t,selector:function(e){return e.active.cases}})),n.a.createElement("div",{className:"active-recovered"},n.a.createElement(Ft,{data:t,selector:function(e){return e.active.recovered}})),n.a.createElement("div",{className:"active-tests"},n.a.createElement(Ft,{data:t,selector:function(e){return e.active.tests}})),n.a.createElement("div",{className:"recovered-population"},n.a.createElement(Ft,{data:t,selector:function(e){return e.recovered.population}})),n.a.createElement("div",{className:"recovered-cases"},n.a.createElement(Ft,{data:t,selector:function(e){return e.recovered.cases}})),n.a.createElement("div",{className:"recovered-active"},n.a.createElement(Ft,{data:t,selector:function(e){return e.recovered.active}})),n.a.createElement("div",{className:"recovered-tests"},n.a.createElement(Ft,{data:t,selector:function(e){return e.recovered.tests}})),n.a.createElement("div",{className:"tests-population"},n.a.createElement(Ft,{data:t,selector:function(e){return e.tests.population}})),n.a.createElement("div",{className:"tests-cases"},n.a.createElement(Ft,{data:t,selector:function(e){return e.tests.cases}})),n.a.createElement("div",{className:"tests-active"},n.a.createElement(Ft,{data:t,selector:function(e){return e.tests.active}})),n.a.createElement("div",{className:"tests-recovered"},n.a.createElement(Ft,{data:t,selector:function(e){return e.tests.recovered}})))},It=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},header:{width:"97%"},slider:{paddingLeft:"30px"}}})),Wt=[{key:"Charts",name:"Charts"},{key:"Numbers",name:"Numbers"}],_t=function(e,t){return e.sort(t),e},Kt=function(){var e=It(),t=Object(r.useContext)(w),a=t.population,o=t.cases,c=t.selectedDate,i=Object(r.useState)(c),s=Object(N.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)(Wt[0].key),m=Object(N.a)(d,2),p=m[0],b=m[1],g=Object(r.useMemo)((function(){if(!o.has(l))return[];var e=o.get(l),t=a.reduce((function(t,a){if(!e.has(a.POA_NAME16.toString()))return t;var r=e.get(a.POA_NAME16.toString());return t.push({population:a.Tot_p_p,cases:r.Cases,active:r.Active,recovered:r.Recovered,tests:r.Tests}),t}),[]);return{population:{cases:_t(t.map((function(e){return{x:e.population,y:e.cases}})),(function(e,t){return e.x-t.x})),active:_t(t.map((function(e){return{x:e.population,y:e.active}})),(function(e,t){return e.x-t.x})),recovered:_t(t.map((function(e){return{x:e.population,y:e.recovered}})),(function(e,t){return e.x-t.x})),tests:_t(t.map((function(e){return{x:e.population,y:e.tests}})),(function(e,t){return e.x-t.x}))},cases:{population:_t(t.map((function(e){return{x:e.cases,y:e.population}})),(function(e,t){return e.x-t.x})),active:_t(t.map((function(e){return{x:e.cases,y:e.active}})),(function(e,t){return e.x-t.x})),recovered:_t(t.map((function(e){return{x:e.cases,y:e.recovered}})),(function(e,t){return e.x-t.x})),tests:_t(t.map((function(e){return{x:e.cases,y:e.tests}})),(function(e,t){return e.x-t.x}))},active:{population:_t(t.map((function(e){return{x:e.active,y:e.population}})),(function(e,t){return e.x-t.x})),cases:_t(t.map((function(e){return{x:e.active,y:e.cases}})),(function(e,t){return e.x-t.x})),recovered:_t(t.map((function(e){return{x:e.active,y:e.recovered}})),(function(e,t){return e.x-t.x})),tests:_t(t.map((function(e){return{x:e.active,y:e.tests}})),(function(e,t){return e.x-t.x}))},recovered:{population:_t(t.map((function(e){return{x:e.recovered,y:e.population}})),(function(e,t){return e.x-t.x})),cases:_t(t.map((function(e){return{x:e.recovered,y:e.cases}})),(function(e,t){return e.x-t.x})),active:_t(t.map((function(e){return{x:e.recovered,y:e.active}})),(function(e,t){return e.x-t.x})),tests:_t(t.map((function(e){return{x:e.recovered,y:e.tests}})),(function(e,t){return e.x-t.x}))},tests:{population:_t(t.map((function(e){return{x:e.tests,y:e.population}})),(function(e,t){return e.x-t.x})),cases:_t(t.map((function(e){return{x:e.tests,y:e.cases}})),(function(e,t){return e.x-t.x})),active:_t(t.map((function(e){return{x:e.tests,y:e.active}})),(function(e,t){return e.x-t.x})),recovered:_t(t.map((function(e){return{x:e.tests,y:e.recovered}})),(function(e,t){return e.x-t.x}))}}}),[a,o,l]);return n.a.createElement(ve,{className:e.root,title:"Corelation"},n.a.createElement(ge.a,{container:!0,spacing:0,className:e.header},n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h4"},"Correlation")),n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h5"},l)),n.a.createElement(D.a,{display:"flex",justifyContent:"center",className:e.slider},n.a.createElement($e,{dateChanged:u}))),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12,style:{paddingLeft:50}},n.a.createElement(et,{data:Wt,selectionChanged:b}))),p===Wt[0].key?n.a.createElement(Mt,{data:g}):p===Wt[1].key?n.a.createElement(zt,{data:g}):null)},Vt=Object(u.a)((function(){return{root:{width:"100%"}}})),Gt=function(e){var t=e.options,a=e.onChange,r=Vt();return n.a.createElement(gt.a,{multiple:!0,disableCloseOnSelect:!0,className:r.root,options:t,getOptionLabel:function(e){return e.name},renderInput:function(e){return n.a.createElement(bt.a,Object.assign({},e,{label:"Correlation pair",variant:"outlined"}))},onChange:function(e,t){return a(t)}})},Zt=function(e){var t=e.data,a=e.name,o=e.xName,c=e.yName,i=e.backgroundColor,s=Object(yt.a)(),l=Object(r.useMemo)((function(){var e=t.map((function(e){return[e.x,e.y]})),a=Object(Dt.linearRegressionLine)(Object(Dt.linearRegression)(e));return t.map((function(e){return{x:e.x,y:Number(a(e.x).toFixed(3))}}))}),[t]),u={datasets:[{data:t,label:a,tooltipLabel:c,backgroundColor:i,order:2},{data:l,label:"Regression line",tooltipLabel:"Regression ".concat(c),type:"line",fill:!1,order:1}]},d={animation:!1,cornerRadius:0,layout:{padding:{top:0,left:0,right:0,bottom:50}},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{display:!1}]},tooltips:{backgroundColor:s.palette.background.default,bodyFontColor:s.palette.text.secondary,borderColor:s.palette.divider,borderWidth:1,enabled:!0,footerFontColor:s.palette.text.secondary,intersect:!1,mode:"nearest",titleFontColor:s.palette.text.primary,callbacks:{title:function(e){return"".concat(o," ").concat(e[0].label)},label:function(e,t){return"".concat(t.datasets[e.datasetIndex].tooltipLabel," ").concat(e.value)}}}};return n.a.createElement(xt.Scatter,{height:250,data:u,options:d})},Ht=[{name:"Population Cases",xName:"Population",yName:"Cases",selector:function(e){return{x:e.population,y:e.cases}},backgroundColor:B.a.indigo[500]},{name:"Population Active",xName:"Population",yName:"Active",selector:function(e){return{x:e.population,y:e.active}},backgroundColor:B.a.indigo[500]},{name:"Population Recovered",xName:"Population",yName:"Recovered",selector:function(e){return{x:e.population,y:e.recovered}},backgroundColor:B.a.indigo[500]},{name:"Population Tests",xName:"Population",yName:"Tests",selector:function(e){return{x:e.population,y:e.tests}},backgroundColor:B.a.indigo[500]},{name:"Cases Population",xName:"Cases",yName:"Population",selector:function(e){return{x:e.cases,y:e.population}},backgroundColor:B.a.red[500]},{name:"Cases Active",xName:"Cases",yName:"Active",selector:function(e){return{x:e.cases,y:e.active}},backgroundColor:B.a.red[500]},{name:"Cases Recovered",xName:"Cases",yName:"Recovered",selector:function(e){return{x:e.cases,y:e.recovered}},backgroundColor:B.a.red[500]},{name:"Cases Tests",xName:"Cases",yName:"Tests",selector:function(e){return{x:e.cases,y:e.tests}},backgroundColor:B.a.red[500]},{name:"Active Population",xName:"Active",yName:"Population",selector:function(e){return{x:e.active,y:e.population}},backgroundColor:B.a.red[900]},{name:"Active Cases",xName:"Active",yName:"Cases",selector:function(e){return{x:e.active,y:e.cases}},backgroundColor:B.a.red[900]},{name:"Active Recovered",xName:"Active",yName:"Recovered",selector:function(e){return{x:e.active,y:e.recovered}},backgroundColor:B.a.red[900]},{name:"Active Tests",xName:"Active",yName:"Tests",selector:function(e){return{x:e.active,y:e.tests}},backgroundColor:B.a.red[900]},{name:"Recovered Population",xName:"Recovered",yName:"Population",selector:function(e){return{x:e.recovered,y:e.population}},backgroundColor:B.a.green[700]},{name:"Recovered Cases",xName:"Recovered",yName:"Cases",selector:function(e){return{x:e.recovered,y:e.cases}},backgroundColor:B.a.green[700]},{name:"Recovered Active",xName:"Recovered",yName:"Active",selector:function(e){return{x:e.recovered,y:e.active}},backgroundColor:B.a.green[700]},{name:"Recovered Tests",xName:"Recovered",yName:"Tests",selector:function(e){return{x:e.recovered,y:e.tests}},backgroundColor:B.a.green[700]},{name:"Tests Population",xName:"Tests",yName:"Population",selector:function(e){return{x:e.tests,y:e.population}},backgroundColor:B.a.indigo[700]},{name:"Tests Cases",xName:"Tests",yName:"Cases",selector:function(e){return{x:e.tests,y:e.cases}},backgroundColor:B.a.indigo[700]},{name:"Tests Active",xName:"Tests",yName:"Active",selector:function(e){return{x:e.tests,y:e.active}},backgroundColor:B.a.indigo[700]},{name:"Tests Recovered",xName:"Tests",yName:"Recovered",selector:function(e){return{x:e.tests,y:e.recovered}},backgroundColor:B.a.indigo[700]}],Jt=function(e,t){return e.sort(t),e},Ut=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},paddingBottom:{paddingBottom:"30px"}}})),$t=function(){var e=Ut(),t=Object(r.useState)(""),a=Object(N.a)(t,2),o=a[0],c=a[1],i=Object(r.useState)([]),s=Object(N.a)(i,2),l=s[0],u=s[1],d=Object(r.useContext)(w),m=d.population,p=d.cases,b=Object(r.useMemo)((function(){if(l.length<=0)return[];if(!p.has(o))return[];var e=p.get(o),t=m.reduce((function(t,a){if(!e.has(a.POA_NAME16.toString()))return t;var r=e.get(a.POA_NAME16.toString());return t.push({population:a.Tot_p_p,cases:r.Cases,active:r.Active,recovered:r.Recovered,tests:r.Tests}),t}),[]);return l.reduce((function(e,a){return e.push({key:a.name,xName:a.xName,yName:a.yName,backgroundColor:a.backgroundColor,data:Jt(t.map(a.selector),(function(e,t){return e.x-t.x}))}),e}),[])}),[m,p,l,o]);return n.a.createElement(ve,{className:e.root,title:"Regression"},n.a.createElement(be.a,null,n.a.createElement(ge.a,{container:!0},n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12,className:e.paddingBottom},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h4"},"Regression")),n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(he.a,{color:"textSecondary",gutterBottom:!0,variant:"h5"},o)),n.a.createElement($e,{dateChanged:c})),n.a.createElement(ge.a,{item:!0,lg:12,sm:12,xl:12,xs:12,className:e.paddingBottom},n.a.createElement(D.a,{display:"flex",justifyContent:"center"},n.a.createElement(Gt,{options:Ht,onChange:u}))),b.map((function(e){return n.a.createElement(ge.a,{key:e.key,item:!0,lg:12,sm:12,xl:12,xs:12},n.a.createElement(Zt,{data:e.data,name:e.key,xName:e.xName,yName:e.yName,backgroundColor:e.backgroundColor}))})))))},qt=[{path:"/",element:n.a.createElement(pe,null),children:[{path:"/",element:n.a.createElement(s.a,{to:"dashboard"})},{path:"dashboard",element:n.a.createElement(pt,null)},{path:"totals",element:n.a.createElement(Ct,null)},{path:"distribution",element:n.a.createElement(St,null)},{path:"correlation",element:n.a.createElement(Kt,null)},{path:"regression",element:n.a.createElement($t,null)}]}],Qt=function(){var e=Object(s.i)(qt,"/nsw-corona-virus");return n.a.createElement(l.a,{theme:M},n.a.createElement(p,null),n.a.createElement(T,null,n.a.createElement(A,null,(function(t){return t.loaded?e:null}))))};c.a.render(n.a.createElement(i.a,null,n.a.createElement(Qt,null)),document.getElementById("root"))}},[[300,1,2]]]);
//# sourceMappingURL=main.05b65863.chunk.js.map